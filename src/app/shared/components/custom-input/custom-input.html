<mat-form-field
  [appearance]="customInput.appearance || 'outline'"
  class="w-100 mt-3"
  subscriptSizing="dynamic"
>
  <!-- label -->
  <mat-label>{{ customInput.label }}</mat-label>

  @switch (customInput.type) {

    @case ('text') {
      <input
        matInput
        [type]="customInput.type"
        [placeholder]="customInput.placeholder"
        (input)="onInput($event)"
        (blur)="onTouched()"
        [id]="customInput.id"
        [name]="customInput.name"
        [class]="customInput.class"
        [formControl]="formControl"
        autocomplete="off"
      />
    }

    @case ('number') {
      <input
        matInput
        [type]="customInput.type"
        [placeholder]="customInput.placeholder"
        (input)="onInput($event)"
        (blur)="onTouched()"
        [id]="customInput.id"
        [name]="customInput.name"
        [class]="customInput.class"
        [formControl]="formControl"
        autocomplete="off"
      />
    }

    @case ('password') {
      <input
        matInput
        [type]="customInput.type"
        [placeholder]="customInput.placeholder"
        (input)="onInput($event)"
        (blur)="onTouched()"
        [id]="customInput.id"
        [name]="customInput.name"
        [class]="customInput.class"
        [formControl]="formControl"
        autocomplete="off"
      />
    }

    @case('email'){
      <input
        matInput
        [type]="customInput.type"
        [placeholder]="customInput.placeholder"
        (input)="onInput($event)"
        (blur)="onTouched()"
        [id]="customInput.id"
        [name]="customInput.name"
        [class]="customInput.class"
        [formControl]="formControl"
        autocomplete="off"
      />
    }

    @case('select') {
      <mat-select
        (selectionChange)="onSelect($event)"
        [id]="customInput.id"
        [formControl]="formControl"
      >
        @for(option of customInput.options; track $index) {
          <mat-option [value]="option.value">{{ option.label }}</mat-option>
        }
      </mat-select>
    }

    @case('textarea'){
      <textarea
        matInput
        [placeholder]="customInput.placeholder"
        (input)="onInput($event)"
        (blur)="onTouched()"
        [id]="customInput.id"
        [name]="customInput.name"
        [class]="customInput.class"
        [rows]="customInput.rows || 3"
        [formControl]="formControl"
      ></textarea>
    }

    @case('radio') {
      <mat-radio-group>
        @for(option of customInput.options ?? []; track option) {
          <mat-radio-button [value]="option.value">{{ option.label }}</mat-radio-button>
        }
      </mat-radio-group>
    }

    @case('checkbox') {
      <mat-checkbox >{{ customInput.label }}</mat-checkbox>
    }
  }

  <!-- icon -->
  @if(customInput.icon) {
    <mat-icon
      matSuffix
      [style.cursor]="customInput.toggleIcon ? 'pointer' : 'default'"
      (click)="customInput.toggleIcon ? toggleIcon() : null"
    >
      {{ customInput.icon }}
    </mat-icon>
  }

  <!-- hint -->
  @if(!customInput.disabled && customInput.hint){
    <mat-hint>{{ customInput.hint }}</mat-hint>
  }

</mat-form-field>
<!-- error messages -->
@for (error of getErrorKeys(); track $index)
{
  @if(formControl.invalid && (formControl.touched || formControl.dirty))
  {
    <mat-error>
      {{ getErrorMessage(error) }}
    </mat-error>
  }
}
